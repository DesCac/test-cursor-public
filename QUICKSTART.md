# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - RPG Quest & NPC Service

## –ó–∞–ø—É—Å–∫ –∑–∞ 2 –∫–æ–º–∞–Ω–¥—ã

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make up

# 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
make install
```

**–ì–æ—Ç–æ–≤–æ!** üéâ

## –î–æ—Å—Ç—É–ø –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é

- **–ê–¥–º–∏–Ω–∫–∞**: http://localhost:8080/admin
  - –õ–æ–≥–∏–Ω: `admin`
  - –ü–∞—Ä–æ–ª—å: `admin123`
- **GraphQL Explorer**: http://localhost:8080/graphiql

## –ß—Ç–æ –≤–Ω—É—Ç—Ä–∏?

### üì¶ –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (—Ñ–∏–∫—Å—Ç—É—Ä—ã)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã:
- **2 NPC** —Å –≥–æ—Ç–æ–≤—ã–º–∏ –¥–∏–∞–ª–æ–≥–æ–≤—ã–º–∏ –¥–µ—Ä–µ–≤—å—è–º–∏
  - Merchant Bob (—Ç–æ—Ä–≥–æ–≤–µ—Ü —Å –¥–∏–∞–ª–æ–≥–∞–º–∏ –∫—É–ø–ª–∏-–ø—Ä–æ–¥–∞–∂–∏)
  - Elder Sage (–∫–≤–µ—Å—Ç–æ–¥–∞—Ç–µ–ª—å)
- **2 Quest** —Å –ø–æ–ª–Ω–æ–π –ª–æ–≥–∏–∫–æ–π
  - The Ancient Ruins (–≥–ª–∞–≤–Ω—ã–π –∫–≤–µ—Å—Ç)
  - Collect Herbs (–ø–æ–±–æ—á–Ω—ã–π –∫–≤–µ—Å—Ç)

### üéÆ –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080/admin
2. –í–æ–π–¥–∏—Ç–µ (admin/admin123)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "NPCs"
4. –ù–∞–∂–º–∏—Ç–µ "Edit Dialog Tree" –Ω–∞ –ª—é–±–æ–º NPC
5. –£–≤–∏–¥–∏—Ç–µ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å –≥–æ—Ç–æ–≤—ã–º –¥–∏–∞–ª–æ–≥–æ–≤—ã–º –¥–µ—Ä–µ–≤–æ–º!

### üîç –ü—Ä–∏–º–µ—Ä—ã GraphQL –∑–∞–ø—Ä–æ—Å–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8080/graphiql –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ:

```graphql
# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö NPC
query {
  npcs {
    id
    name
    description
  }
}

# –ü–æ–ª—É—á–∏—Ç—å NPC —Å –¥–∏–∞–ª–æ–≥–∞–º–∏
query {
  npc(id: 1) {
    id
    name
    dialogNodes {
      id
      nodeType
      text
      connections {
        choiceText
        targetNode {
          id
          text
        }
      }
    }
  }
}

# –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–≤–µ—Å—Ç—ã
query {
  quests {
    id
    name
    objectives
    rewards
  }
}

# –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ –≤ –¥–∏–∞–ª–æ–≥–µ
query {
  validateDialogChoice(npcId: 1, nodeId: 2, choiceId: 1) {
    valid
    message
    nextNodeId
  }
}
```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
make help          # –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
make logs          # –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
make shell         # –í–æ–π—Ç–∏ –≤ PHP –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
make test          # –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make stan          # –ó–∞–ø—É—Å—Ç–∏—Ç—å PHPStan
make fixtures      # –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
make restart       # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
make down          # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ
```

## üì± –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∞–¥–º–∏–Ω–∫–∏

```
Dashboard (/)
‚îú‚îÄ‚îÄ NPCs (/admin/npcs)
‚îÇ   ‚îú‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö NPC
‚îÇ   ‚îî‚îÄ‚îÄ –†–µ–¥–∞–∫—Ç–æ—Ä –¥–∏–∞–ª–æ–≥–æ–≤ (/admin/npcs/{id}/edit)
‚îÇ       ‚îî‚îÄ‚îÄ –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å VueFlow
‚îî‚îÄ‚îÄ Quests (/admin/quests)
    ‚îú‚îÄ‚îÄ –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∫–≤–µ—Å—Ç–æ–≤
    ‚îî‚îÄ‚îÄ –†–µ–¥–∞–∫—Ç–æ—Ä –ª–æ–≥–∏–∫–∏ (/admin/quests/{id}/edit)
        ‚îî‚îÄ‚îÄ –ì—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∞–∫—Ç–æ—Ä —Å VueFlow
```

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ò–∑—É—á–∏—Ç–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ** –≤ –∞–¥–º–∏–Ω–∫–µ
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ GraphQL API** –≤ GraphiQL
3. **–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–æ–¥** –≤ `src/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç—ã**: `make test`
5. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ**: `make stan`

## üêõ –ü—Ä–æ–±–ª–µ–º—ã?

```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ
make down && make up && make install

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
make logs

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps
```

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [README.md](README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [CONTRIBUTING.md](CONTRIBUTING.md) - –ö–∞–∫ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
- [SECURITY.md](SECURITY.md) - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## üí° –•–æ—Ç–∏—Ç–µ –±–æ–ª—å—à–µ?

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ [README.md](README.md) –≤–∫–ª—é—á–∞–µ—Ç:
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ API
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ CI/CD
- –î–µ–ø–ª–æ–π –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
- Troubleshooting
- –ò –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ!

---

**–£–¥–∞—á–∏ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!** üéÆüöÄ
