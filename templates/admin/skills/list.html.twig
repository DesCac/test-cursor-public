{% extends 'base.html.twig' %}

{% block title %}Skills - {{ parent() }}{% endblock %}

{% block body %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h2>üß† Skill Tree</h2>
    <button class="btn" onclick="alert('–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –Ω–∞–≤—ã–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ –¥–µ—Ä–µ–≤–∞')">+ –ù–æ–≤—ã–π –Ω–∞–≤—ã–∫</button>
</div>

{% if skills is empty %}
    <div style="text-align: center; padding: 40px; color: #666;">
        <p style="font-size: 18px;">–ù–∞–≤—ã–∫–∏ –µ—â—ë –Ω–µ —Å–æ–∑–¥–∞–Ω—ã. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—ã–π –Ω–∞–≤—ã–∫ —á–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–µ—Ä–µ–≤–∞.</p>
    </div>
{% else %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>–ù–∞–∑–≤–∞–Ω–∏–µ</th>
                <th>Slug</th>
                <th>–¢—Ä–µ–±—É–µ–º—ã–π —É—Ä–æ–≤–µ–Ω—å</th>
                <th>–ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª–∞—Å—Å—ã</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for skill in skills %}
            <tr>
                <td>{{ skill.id }}</td>
                <td><strong>{{ skill.name }}</strong></td>
                <td><code>{{ skill.slug }}</code></td>
                <td>{{ skill.requiredLevel|default('‚Äî') }}</td>
                <td>
                    {% if skill.requiredClasses|length > 0 %}
                        {% set classNames = [] %}
                        {% for class in skill.requiredClasses %}
                            {% set classNames = classNames|merge([class.name]) %}
                        {% endfor %}
                        {{ classNames|join(', ') }}
                    {% else %}
                        ‚Äî
                    {% endif %}
                </td>
                <td>
                    <a href="{{ path('admin_skills_edit', {id: skill.id}) }}" class="btn" style="padding: 6px 12px; font-size: 14px;">
                        –û—Ç–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endblock %}
