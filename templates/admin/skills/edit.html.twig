{% extends 'base.html.twig' %}

{% block title %}Edit {{ skill.name }} - {{ parent() }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('build/skill-editor.css') }}">
{% endblock %}

{% block body %}
<div style="margin-bottom: 20px;">
    <a href="{{ path('admin_skills_list') }}" style="color: #667eea; text-decoration: none;">← Вернуться к списку скиллов</a>
</div>

<h2>Редактирование скилла: {{ skill.name }}</h2>
<p style="color: #666; margin: 10px 0;">Тип: {{ skill.tier|default('—') }}, минимальный уровень: {{ skill.requiredLevel|default('—') }}</p>

<div id="skill-editor" style="margin-top: 30px;">
    <!-- Vue editor will mount here -->
</div>

<script>
    window.skillData = {
        id: {{ skill.id }},
        name: "{{ skill.name|escape('js') }}",
        tier: "{{ skill.tier|escape('js') }}"
    };
</script>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="module" src="{{ asset('build/skill-editor.js') }}"></script>
{% endblock %}
