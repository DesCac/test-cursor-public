{% extends 'base.html.twig' %}

{% block title %}Players - {{ parent() }}{% endblock %}

{% block body %}
<h2>üßë‚ÄçüöÄ –ò–≥—Ä–æ–∫–∏ –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–∏</h2>

{% if players is empty %}
    <div style="text-align: center; padding: 40px; color: #666;">
        <p style="font-size: 18px;">–ò–≥—Ä–æ–∫–∏ –µ—â—ë –Ω–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã.</p>
    </div>
{% else %}
    <table>
        <thead>
            <tr>
                <th>ID</th>
                <th>TG User ID</th>
                <th>–ò–º—è</th>
                <th>–ü–µ—Ä—Å–æ–Ω–∞–∂–µ–π</th>
            </tr>
        </thead>
        <tbody>
            {% for player in players %}
            <tr>
                <td>{{ player.id }}</td>
                <td><code>{{ player.tgUserId }}</code></td>
                <td>{{ player.displayName|default('‚Äî') }}</td>
                <td>{{ player.characters|length }}</td>
            </tr>
            <tr>
                <td colspan="4">
                    {% if player.characters is empty %}
                        <em style="color: #888;">–ù–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π</em>
                    {% else %}
                        <ul style="margin: 10px 0 0 20px;">
                            {% for character in player.characters %}
                                <li>
                                    <strong>{{ character.name }}</strong>,
                                    –∫–ª–∞—Å—Å: {{ character.class.name }},
                                    —É—Ä–æ–≤–µ–Ω—å: {{ character.level }},
                                    –æ–ø—ã—Ç: {{ character.experience }},
                                    —Å–∫–∏–ª–ª–æ–≤: {{ character.characterSkills|length }}
                                </li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
{% endblock %}
